{"version":3,"sources":["ui-component/extended/AnimateButton.js","views/utilities/AccessControl.js"],"names":["AnimateButton","forwardRef","ref","offset1","offset2","children","type","direction","offset","scale","useCycle","x","cycleX","y","cycleY","div","animate","rotate","transition","repeat","Infinity","repeatType","duration","repeatDelay","undefined","onHoverEnd","onHoverStart","hover","tap","whileHover","whileTap","defaultProps","AccessControl","useState","receiverAddress","setReceiverAddress","role","setRole","checkedRevoke","setCheckedRevoke","account","useSelector","state","roleMap","burner","burnerRole","minter","minterRole","admin","adminRole","title","container","spacing","gridSpacing","item","xs","sm","md","lg","fullWidth","htmlFor","id","name","onChange","event","target","value","label","control","checked","color","onClick","accountAddress","signer","ethers","providers","Web3Provider","window","ethereum","getSigner","tokenContract","Contract","tokenContractAddress","tokenAbi","_role","revokeRole","then","console","log","catch","err","alert","data","message","grantRole","disableElevation","size","variant"],"mappings":"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","file":"static/js/9.9a3d3c77.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\nimport { forwardRef } from 'react';\n// third-party\nimport { motion, useCycle } from 'framer-motion';\n\n// ==============================|| ANIMATION BUTTON ||============================== //\n\nconst AnimateButton = forwardRef(({ children, type, direction, offset, scale }, ref) => {\n    let offset1;\n    let offset2;\n    switch (direction) {\n        case 'up':\n        case 'left':\n            offset1 = offset;\n            offset2 = 0;\n            break;\n        case 'right':\n        case 'down':\n        default:\n            offset1 = 0;\n            offset2 = offset;\n            break;\n    }\n\n    const [x, cycleX] = useCycle(offset1, offset2);\n    const [y, cycleY] = useCycle(offset1, offset2);\n\n    switch (type) {\n        case 'rotate':\n            return (\n                <motion.div\n                    ref={ref}\n                    animate={{ rotate: 360 }}\n                    transition={{\n                        repeat: Infinity,\n                        repeatType: 'loop',\n                        duration: 2,\n                        repeatDelay: 0\n                    }}\n                >\n                    {children}\n                </motion.div>\n            );\n        case 'slide':\n            if (direction === 'up' || direction === 'down') {\n                return (\n                    <motion.div\n                        ref={ref}\n                        animate={{ y: y !== undefined ? y : '' }}\n                        onHoverEnd={() => cycleY()}\n                        onHoverStart={() => cycleY()}\n                    >\n                        {children}\n                    </motion.div>\n                );\n            }\n            return (\n                <motion.div ref={ref} animate={{ x: x !== undefined ? x : '' }} onHoverEnd={() => cycleX()} onHoverStart={() => cycleX()}>\n                    {children}\n                </motion.div>\n            );\n\n        case 'scale':\n        default:\n            if (typeof scale === 'number') {\n                scale = {\n                    hover: scale,\n                    tap: scale\n                };\n            }\n            return (\n                <motion.div ref={ref} whileHover={{ scale: scale?.hover }} whileTap={{ scale: scale?.tap }}>\n                    {children}\n                </motion.div>\n            );\n    }\n});\n\nAnimateButton.propTypes = {\n    children: PropTypes.node,\n    offset: PropTypes.number,\n    type: PropTypes.oneOf(['slide', 'scale', 'rotate']),\n    direction: PropTypes.oneOf(['up', 'down', 'left', 'right']),\n    scale: PropTypes.oneOfType([PropTypes.number, PropTypes.object])\n};\n\nAnimateButton.defaultProps = {\n    type: 'scale',\n    offset: 10,\n    direction: 'right',\n    scale: {\n        hover: 1,\n        tap: 0.9\n    }\n};\n\nexport default AnimateButton;\n","// import web3 stuff\nimport { tokenContractAddress } from 'store/constant';\nimport { tokenAbi } from 'store/constant';\nimport { minterRole, burnerRole, adminRole } from 'store/constant';\nimport { ethers } from \"ethers\";\n\nimport { Grid } from '@mui/material';\n\nimport { useState } from 'react';\nimport { useSelector } from 'react-redux';\n\n// project imports\nimport MainCard from 'ui-component/cards/MainCard';\nimport { gridSpacing } from 'store/constant';\nimport { FormGroup, Switch, InputLabel, OutlinedInput, FormControl, Button, FormControlLabel } from '@mui/material'\nimport AnimateButton from 'ui-component/extended/AnimateButton';\n\n// ==============================|| TYPOGRAPHY ||============================== //\n\nconst AccessControl = () => { \n    const [receiverAddress, setReceiverAddress] = useState(\"\");\n    const [role, setRole] = useState(\"\");\n    const [checkedRevoke, setCheckedRevoke] = useState(false);\n    const account = useSelector((state) => state.account);\n\n    const roleMap = {\n        burner: burnerRole,\n        minter: minterRole,\n        admin: adminRole\n    };\n\n    const handleAddressChange = (event) => {\n        setReceiverAddress(event.target.value);\n    }\n\n    const handleRoleChange = (event) => {\n        setRole(event.target.value);\n    }\n\n    const roleChange = () => {\n        if( account.accountAddress ) {\n            const provider = new ethers.providers.Web3Provider( window.ethereum );\n            const signer = provider.getSigner();\n            const tokenContract = new ethers.Contract( tokenContractAddress, tokenAbi, signer);\n            let _role = '';\n            if ( role === 'admin' ) {\n                _role = roleMap.admin;\n            }\n            if ( role === 'minter' ) {\n                _role = roleMap.minter;\n            }\n            if ( role === 'burner' ) {\n                _role = roleMap.burner;\n            }\n            if ( checkedRevoke ) {\n                tokenContract.revokeRole(_role, receiverAddress)\n                    .then(console.log)\n                    .catch((err) => alert(err.data.message));\n            }\n            else {\n                tokenContract.grantRole(_role, receiverAddress)\n                    .then(console.log)\n                    .catch((err) => alert(err.data.message));\n            }\n        }\n        else {\n            alert(\"You must first sign in!\");\n        }\n\n    }\n\n    const handleCheck = (event) => {\n        setCheckedRevoke(event.target.checked);\n    }\n\n    return (\n        <MainCard title=\"RTS Access Control\">\n            <Grid container spacing={gridSpacing}>\n                <Grid item xs={0} sm={0} md={4} lg={4}/>\n                <Grid item xs={12} sm={12} md={4} lg={4}>\n                    {/* <SubCard title=\"Modify Roles\"> */}\n                        <Grid container direction=\"column\" spacing={1}>\n                            <Grid item>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"outlined-adornment-grant-bytes32\">Role: admin, burner, minter</InputLabel>\n                                    <OutlinedInput\n                                        id=\"outlined-adornment-grant-bytes32\"\n                                        type=\"string\"\n                                        name=\"grant-bytes-role\"\n                                        onChange={handleRoleChange}\n                                        label=\"Role: admin, burner, minter\"\n                                    />\n                                </FormControl>\n                            </Grid>\n                            <Grid item>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"outlined-adornment-grant-account\">Account Address</InputLabel>\n                                    <OutlinedInput\n                                        id=\"outlined-adornment-grant-account\"\n                                        type=\"string\"\n                                        name=\"grant-account\"\n                                        onChange={handleAddressChange}\n                                        label=\"Account Address\"\n                                    />\n                                </FormControl>\n                            </Grid>\n                            <Grid item>\n                                <FormGroup>\n                                    <FormControlLabel control={<Switch   \n                                        checked={checkedRevoke}\n                                        onChange={handleCheck}\n                                        color=\"secondary\"/>\n                                    } label=\"Revoke\" />\n                                </FormGroup>\n                            </Grid>\n                            <Grid item>\n                                <AnimateButton>\n                                    <Button\n                                        onClick={roleChange}\n                                        disableElevation\n                                        fullWidth\n                                        size=\"large\"\n                                        type=\"submit\"\n                                        variant=\"contained\"\n                                        color=\"secondary\"\n                                    >\n                                        Execute\n                                    </Button>\n                                </AnimateButton>\n                            </Grid>\n                        </Grid>\n                    {/* </SubCard> */}\n                </Grid>\n                <Grid item xs={0} sm={0} md={4} lg={4}/>\n            </Grid>\n        </MainCard>\n    );\n}\n\nexport default AccessControl;\n"],"sourceRoot":""}